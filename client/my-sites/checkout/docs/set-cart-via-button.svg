<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="571px" preserveAspectRatio="none" style="width:895px;height:571px;" version="1.1" viewBox="0 0 895 571" width="895px" zoomAndPan="magnify"><defs><filter height="300%" id="fibz9gr1kctz1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5E6B3" height="556.6113" style="stroke: #A80036; stroke-width: 1.0;" width="379" x="9" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="173.5" y="16.5684">Actions</text><rect fill="#B8E6BF" height="556.6113" style="stroke: #A80036; stroke-width: 1.0;" width="472" x="400" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="567" y="16.5684">Composite Checkout</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="66" x2="66" y1="88.2871" y2="492.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="210" x2="210" y1="88.2871" y2="492.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="336" x2="336" y1="88.2871" y2="492.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="487" x2="487" y1="88.2871" y2="492.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="640" x2="640" y1="88.2871" y2="492.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="809" x2="809" y1="88.2871" y2="492.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="13" y="68.8457">SecondaryCart</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="23.5" y="85.334">Promotions</text><ellipse cx="66" cy="39.3105" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="62,27.3105,68,22.3105,66,27.3105,68,32.3105,62,27.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="13" y="505.1699">SecondaryCart</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="23.5" y="521.6582">Promotions</text><ellipse cx="66" cy="540.6113" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="62,528.6113,68,523.6113,66,528.6113,68,533.6113,62,528.6113" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="172" y="68.8457">Upcoming</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="142" y="85.334">RenewalsReminder</text><ellipse cx="210" cy="39.3105" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="206,27.3105,212,22.3105,210,27.3105,212,32.3105,206,27.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="172" y="505.1699">Upcoming</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="142" y="521.6582">RenewalsReminder</text><ellipse cx="210" cy="540.6113" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="206,528.6113,212,523.6113,210,528.6113,212,533.6113,206,528.6113" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="288" y="68.8457">CartFreeUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="297.5" y="85.334">PlanUpsell</text><ellipse cx="336" cy="39.3105" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="332,27.3105,338,22.3105,336,27.3105,338,32.3105,332,27.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="288" y="505.1699">CartFreeUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="297.5" y="521.6582">PlanUpsell</text><ellipse cx="336" cy="540.6113" fill="#FEFECE" filter="url(#fibz9gr1kctz1)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="332,528.6113,338,523.6113,336,528.6113,338,533.6113,332,528.6113" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="409" y="52.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="416" y="73.334">CompositeCheckout</text><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="409" y="491.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="416" y="512.1699">CompositeCheckout</text><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="586" y="36.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="593" y="56.8457">useShopping</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="593.5" y="73.334">CartManager</text><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="586" y="491.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="593" y="512.1699">useShopping</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="593.5" y="528.6582">CartManager</text><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="755" y="36.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="762" y="56.8457">useShopping</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="764.5" y="73.334">CartReducer</text><rect fill="#FEFECE" filter="url(#fibz9gr1kctz1)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="755" y="491.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="762" y="512.1699">useShopping</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="764.5" y="528.6582">CartReducer</text><polygon fill="#A80036" points="498.5,115.5977,488.5,119.5977,498.5,123.5977,494.5,119.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="492.5" x2="639" y1="119.5977" y2="119.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="504.5" y="114.8555">addProductsToCart</text><polygon fill="#A80036" points="77,144.9082,67,148.9082,77,152.9082,73,148.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="486.5" y1="148.9082" y2="148.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="83" y="144.166">addProductsToCart</text><polygon fill="#A80036" points="198,174.2188,208,178.2188,198,182.2188,202,178.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66" x2="204" y1="178.2188" y2="178.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="73" y="173.4766">addProductsToCart</text><path d="M65,191.2188 L65,262.2188 L351,262.2188 L351,201.2188 L341,191.2188 L65,191.2188 " fill="#FBFB77" filter="url(#fibz9gr1kctz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M341,191.2188 L341,201.2188 L351,201.2188 L341,191.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="71" y="208.7871">&lt;&lt; getRenewableSitePurchases &gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="71" y="224.0977">sent to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="71" y="239.4082">&lt;&lt; getRenewalItemFromProduct &gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="103" y="254.7188">&lt;&lt; getRenewalItemFromCartItem &gt;&gt;</text><polygon fill="#A80036" points="628,288.7715,638,292.7715,628,296.7715,632,292.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210" x2="634" y1="292.7715" y2="292.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="217" y="288.0293">&lt;&lt; addProductsToCart &gt;&gt;</text><polygon fill="#A80036" points="324,318.082,334,322.082,324,326.082,328,322.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66" x2="330" y1="322.082" y2="322.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="73" y="317.3398">addProductsToCart</text><path d="M272,335.082 L272,360.082 L396,360.082 L396,345.082 L386,335.082 L272,335.082 " fill="#FBFB77" filter="url(#fibz9gr1kctz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M386,335.082 L386,345.082 L396,345.082 L386,335.082 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="278" y="352.6504">&lt;&lt; planItem &gt;&gt;</text><polygon fill="#A80036" points="628,386.7031,638,390.7031,628,394.7031,632,390.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="634" y1="390.7031" y2="390.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="343" y="385.9609">&lt;&lt; addProductsToCart &gt;&gt;</text><polygon fill="#A80036" points="797,431.3242,807,435.3242,797,439.3242,801,435.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640" x2="803" y1="435.3242" y2="435.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="647" y="415.2715">dispatches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="647" y="430.582">CART_PRODUCTS_ADD</text><path d="M731,448.3242 L731,473.3242 L883,473.3242 L883,458.3242 L873,448.3242 L731,448.3242 " fill="#FBFB77" filter="url(#fibz9gr1kctz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M873,448.3242 L873,458.3242 L883,458.3242 L873,448.3242 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="737" y="465.8926">cacheStatus: 'invalid'</text><!--
@startuml


skinparam ParticipantPadding 5
skinparam BoxPadding 5

box "Actions" #f5e6b3
	control SecondaryCartPromotions as "SecondaryCart\nPromotions"
	control UpcomingRenewalsReminder as "Upcoming\nRenewalsReminder"
	control CartFreeUserPlanUpsell as "CartFreeUser\nPlanUpsell"
end box
box "Composite Checkout" #b8e6bf
  participant CompositeCheckout
  participant useShoppingCartManager as "useShopping\nCartManager"
  participant useShoppingCartReducer as "useShopping\nCartReducer"
end box

useShoppingCartManager -> CompositeCheckout : addProductsToCart
CompositeCheckout -> SecondaryCartPromotions : addProductsToCart
SecondaryCartPromotions -> UpcomingRenewalsReminder : addProductsToCart
note over UpcomingRenewalsReminder
	<< getRenewableSitePurchases >>
	sent to
	<< getRenewalItemFromProduct >>
		<< getRenewalItemFromCartItem >>
end note
UpcomingRenewalsReminder -> useShoppingCartManager : << addProductsToCart >>
SecondaryCartPromotions -> CartFreeUserPlanUpsell : addProductsToCart
note over CartFreeUserPlanUpsell
	<< planItem >>
end note
CartFreeUserPlanUpsell -> useShoppingCartManager : << addProductsToCart >>
useShoppingCartManager -> useShoppingCartReducer : dispatches\nCART_PRODUCTS_ADD

note over useShoppingCartReducer
	cacheStatus: 'invalid'
end note

@enduml

PlantUML version 1.2019.06(Fri May 24 12:10:25 CDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 14+36-1461
Operating System: Mac OS X
OS Version: 10.15.7
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>